<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="register.css">
    <title>Register - BlockBank</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', main)
        function main() {
            document.getElementById('submit').addEventListener('click', ()=>{
                //check formulier voor fouten

                //als er geen fouten zijn, maak een data bestand aan.
                const dataRaw = {
                    username: document.getElementById(`username_f`).value,
                    password: document.getElementById(`password_f`).value,
                    firstname: document.getElementById(`firstname_f`).value,
                    prefix: document.getElementById(`prefix_f`).value,
                    lastname: document.getElementById(`lastname_f`).value,
                    dateOfBirth: document.getElementById(`dateofbirth_f`).value,
                    bsn: document.getElementById(`bsn_f`).value,
                    emailAddress: document.getElementById(`email_f`).value,
                    address: document.getElementById(`adress_f`).value,
                    houseNumber: document.getElementById(`housenumber_f`).value,
                    affix: document.getElementById(`affix_f`).value,
                    postalCode: document.getElementById(`postalcode_f`).value,
                    city: document.getElementById(`city_f`).value,
                    country: document.getElementById(`country_f`).value};

                console.log(JSON.stringify(dataRaw));


                // dan stuur dit request.
                $.ajax({
                    type : "POST",
                    url : 'http://localhost:8080/registerDTO',
                    data : JSON.stringify(dataRaw),
                    contentType: "application/json",
                    accepts: { json: "application/json"},
                    success: function (data, status, xhr) {
                        console.log(data);
                        console.log(status);
                        console.log(xhr);
                    }
                });
            })
        }
    </script>
</head>
<body>
<section class="register-form">
    <form id="register">
        <h1>Register</h1>
        <h2>Account Details</h2>
        <input id="username_f" type="text" name="Username" placeholder="Username"><br>
        <input id="password_f" type="text" name="Password" placeholder="Password"><br>
        <input id="email_f" type="text" name="Email adress" placeholder="example@examplemail.com"><br>
        <h2>Personal Information</h2>
        <input id="firstname_f" type="text" name="First name" placeholder="First Name"><br>
        <input id="prefix_f" type="text" name="Prefix" placeholder="Prefix"><br>
        <input id="lastname_f" type="text" name="Last name" placeholder="Last Name"><br>
        <input id="dateofbirth_f" type="text" name="Date of birth" placeholder="YYYY-MM-DD"><br>
        <input id="bsn_f" type="number" name="BSN" placeholder="BSN number"><br>
        <h2>Adress</h2>
        <input id="adress_f" type="text" name="Street Name" placeholder="Street Name"><br>
        <input id="housenumber_f" type="number" name="House Number" placeholder="House Number"><br>
        <input id="affix_f" type="text" name="Affix" placeholder="Affix"><br>
        <input id="postalcode_f" type="text" name="Postal code" placeholder="Postal Code"><br>
        <input id="city_f" type="text" name="City" placeholder="City"><br>
        <input id="country_f" type="text" name="Country" placeholder="Country"><br>
    </form>
    <button id="submit">Submit</button>
</section>
</body>
</html>