<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="register.css">
    <title>Register - BlockBank</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', main)


        function main() {
            document.getElementById('submit').addEventListener('click', ()=>{
                //check formulier voor fouten

                //als er geen fouten zijn, maak een data bestand aan.
                const dataRaw = {
                    username: "testJava123455",
                    password: "HOOFDLETTERS.a1",
                    firstname: "bobbie",
                    prefix: ".",
                    lastname: "Kotik",
                    dateOfBirth: "1990-09-25",
                    bsn: 123,
                    emailAddress: "testJava@java.com",
                    address: "koningstraat",
                    houseNumber: 12,
                    affix: "assdwdsw",
                    postalCode: "1221JB",
                    city: "amsterdam",
                    country: "nederland"};

                console.log(JSON.stringify(dataRaw));


                // dan stuur dit request.
/*                $.ajax({
                    mode: "no-cors",
                    type : "POST",
                    url : 'http://localhost:8080/registerDTO',
                    data : dataRaw,
                    contentType: "application/json",
                    accepts: { json: "application/json"},
                    success: function (data, status, xhr) {
                        console.log(data);
                        console.log(status);
                        console.log(xhr);
                    }
                });*/

                fetch('http://localhost:8080/registerDTO', {
                    mode: "no-cors",
                    method: 'POST',
                    headers: {
                        'Accept':'application/json',
                        'Content-Type':'application/json','charset':'UTF-8'
                    },
                    body: JSON.stringify(dataRaw) // moet worden omgezet naar een string
                })
/*                    .then(response => {
                        console.log(response)
                        return response.json() }
                    ).catch((error) => {console.error('Foutje', error);})*/;
            })
        }
    </script>
</head>
<body>
<section class="register-form">
    <form id="register">
        <h1>Register</h1>
        <h2>Account Details</h2>
        <input id="username_f" type="text" name="Username" placeholder="Username"><br>
        <input id="password_f" type="text" name="Password" placeholder="Password"><br>
        <input id="email_f" type="text" name="Email adress" placeholder="example@examplemail.com"><br>
        <h2>Personal Information</h2>
        <input id="firstname_f" type="text" name="First name" placeholder="First Name"><br>
        <input id="prefix_f" type="text" name="Prefix" placeholder="Prefix"><br>
        <input id="lastname_f" type="text" name="Last name" placeholder="Last Name"><br>
        <input id="dateofbirth_f" type="text" name="Date of birth" placeholder="YYYY-MM-DD"><br>
        <input id="bsn_f" type="text" name="BSN" placeholder="BSN number"><br>
        <h2>Adress</h2>
        <input id="adress_f" type="text" name="Street Name" placeholder="Street Name"><br>
        <input id="housenumber_f" type="text" name="House Number" placeholder="House Number"><br>
        <input id="postalcode_f" type="text" name="Postal code" placeholder="Postal Code"><br>
        <input id="city_f" type="text" name="City" placeholder="City"><br>
        <input id="country_f" type="text" name="Country" placeholder="Country"><br>
    </form>
    <button id="submit">Submit</button>
</section>
</body>
</html>